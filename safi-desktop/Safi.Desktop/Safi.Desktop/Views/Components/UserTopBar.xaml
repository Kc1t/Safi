<?xml version="1.0" encoding="utf-8" ?>
<ContentView xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="Safi.Desktop.Views.Components.UserTopBar">
    <Grid Padding="10" BackgroundColor="White"
          RowDefinitions="Auto"
          ColumnDefinitions="*,Auto">

        <Label Text=""
               FontSize="18"
               FontAttributes="Bold"
               VerticalOptions="Center" />

        <Grid Grid.Column="1" ColumnDefinitions="Auto,Auto" VerticalOptions="Center">

            <VerticalStackLayout Spacing="2" Padding="0,0,10,0">

                <Label x:Name="UserNameLabel"
                       FontSize="16"
                       FontAttributes="Bold"
                       TextColor="#333"
                       HorizontalTextAlignment="End" />

                <Label x:Name="UserEmailLabel"
                       FontSize="13"
                       TextColor="#777"
                       HorizontalTextAlignment="End" />

            </VerticalStackLayout>

            <Grid Grid.Column="1">

                <ImageButton x:Name="AvatarButton"
                             Source="avatar1.png"
                             WidthRequest="40"
                             HeightRequest="40"
                             CornerRadius="20"
                             BackgroundColor="Transparent" />

            </Grid>

            <Border x:Name="PopupMenu"
                    Grid.Row="1"
                    Grid.ColumnSpan="2"
                    BackgroundColor="White"
                    Stroke="#ddd"
                    Padding="10"
                    HorizontalOptions="End"
                    VerticalOptions="Start"
                    IsVisible="False"
                    WidthRequest="200"
                    Margin="0,50,10,0">

                <VerticalStackLayout Spacing="10">

                    <Label x:Name="PopupUserName" FontAttributes="Bold" FontSize="15" />
                    <Label x:Name="PopupUserEmail" FontSize="13" TextColor="#777" />
                    <BoxView HeightRequest="1" BackgroundColor="#ddd" />
                    <Label Text="Ajuda e Suporte" FontSize="14" />
                    <Button Text="Sair"
                        BackgroundColor="#e74c3c"
                        TextColor="White"
                        Clicked="OnLogoutClicked" />

                </VerticalStackLayout>
                
            </Border>
            
        </Grid>

    </Grid>
</ContentView>